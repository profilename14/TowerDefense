pico-8 cartridge // http://www.pico-8.com
version 39
__lua__

function _init()
  direction = 0
end

function _draw()
  cls()
  draw_sprite_rotated(1, 128\2, 128\2, 8, direction)
end

function _update()
  controls()
end

-- https://www.lexaloffle.com/bbs/?pid=52525
function draw_sprite_rotated(sprite_id, x, y, size, theta)
  local sx, sy = (sprite_id % 16) * size, (sprite_id \ 16) * size 
  local sine, cosine = sin(theta / 360), cos(theta / 360)
  local shift = flr(size*0.5) - 0.5
  for mx=0, size-1 do 
    for my=0, size-1 do 
      local dx, dy = mx-shift, my-shift
      local xx = flr(dx*cosine-dy*sine+shift)
      local yy = flr(dx*sine+dy*cosine+shift)
      if xx >= 0 and xx < size and yy >= 0 and yy <= size then
        pset(x+mx, y+my, sget(sx+xx, sy+yy))
      end
    end
  end
 end

function controls()
  if btnp(⬆️) then
    direction = 0
  elseif btnp(⬇️) then
    direction = 180
  elseif btnp(⬅️) then
    direction = 270
  elseif btnp(➡️) then
    direction = 90
  end
end

__gfx__
00000000000660000066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006886000699600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700069888600699960000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000699888860068886000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000699668860068886000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700696006860688860000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000060000600688600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
